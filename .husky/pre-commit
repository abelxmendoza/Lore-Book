echo "ğŸ” Running pre-commit checks..."

# Skip linter for now (ESLint v9 config needed)
# echo "ğŸ“ Running linter..."
# cd apps/web && npm run lint || echo "âš ï¸  Linter has warnings"

# Run critical tests (fast tests only)
echo "ğŸ§ª Running critical tests..."
cd apps/server
if npm test -- --run 2>/dev/null; then
  echo "âœ… Server tests passed"
else
  echo "âš ï¸  Server tests failed. Consider fixing before committing."
fi

cd ../web
if npm run test:unit -- --run 2>/dev/null; then
  echo "âœ… Web unit tests passed"
else
  echo "âš ï¸  Web unit tests failed. Consider fixing before committing."
fi

echo "âœ… Pre-commit checks completed!"
